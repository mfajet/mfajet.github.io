<!DOCTYPE html>
<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-132806540-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-132806540-1');
    </script>
    <meta charset="UTF-8" />
    <title>Is this Mark?</title>
  </head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-converter"></script>
  <script src="js/ml.js"></script>

  <body>
      <div class="main-div" id="main-div">
        <h1 id="question">Is this Mark?</h1>
      </div>
      <img src="images/face1.JPG" id="face" width ="250" height="250"/>
      <div>
        <button onClick="isItMark()">Let's find out</button>
        <button onClick="newPhoto()">Try a different photo</button>
      </div>
      </br>

      Model loading progress:

      <div class="progress" style="width:50%">
        <div id="progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
      </div>
      <div>
        <h2> About this page</h2>
        <p>I've always loved making silly projects. It is even better when I get to use my skills. I created a Convolutional Neural Network using Keras. I trained it on the <a href="http://vis-www.cs.umass.edu/lfw/">Labeled Faces in the Wild</a> dataset. Obviously, that dataset does not have pictures of my face in it. In order to make a quick binary classifier of my face. I simply took all the photos from that dataset and put them into a "Not_Mark_Fajet" folder. I then took about 500 photos of myself, some new, some old. In order to adjust for a class imbalance, I genereated thousands of "new" images by doing random crops, rotations, and zooms on these photos. None of the photos seen on this website were used in the training set.</p>

        <p>After implementing and training the model in Keras using python, I saved the model and I am using it with TensorFlow.js. When a user clicks the "Let's find out" button, the browser is running the calculation by grabbing the image from the html and passing it through the neural network.</p>

        <p>I have plans to improve this in the future. One of the things I wish to do is make a model to find faces before identifying. Collecting data on faces was an issue as I had to manually crop photos to squares containing my face. This work can and should be automated, extending the application of the models to not only tell if a face is mine, but being able to tell if and which face is mine in a photo with multiple faces.</p>
        <p>In addition, I understand that there are many facial recognition systems that exist that are not built on thousands of photos of a single person's face. I'd like to explore creating a model trained to identify the similarities between faces in order to determine if a new face is mine based on how similar it is to a small set of my faces it has seen.</p>
      </div>
      <div style="background-color: orange">
       I have seen strange behavior when running this on a mobile device. To remedy this, the webpage detects if running on a mobile device and sets the tensorflow backend environment to CPU. As a result, running this on mobile devices may be slower. Try on a laptop or dektop computer for best results.
      </div>
    </body>


</html>
